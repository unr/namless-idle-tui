# Time Loop Cafe

## Theme Overview
Run a cozy cafe trapped in an infinite time loop. Serve the same customers across endless iterations, learning their stories, perfecting recipes, and accumulating temporal energy. Eventually master the loop enough to break free - or choose to stay forever.

## Core Concept
Every 10 real-time minutes, time resets. You keep your knowledge and upgrades, but the day starts over. Same customers arrive at same times. But with each loop, you learn more, serve better, and manipulate time itself. It's Groundhog Day meets Coffee Talk meets idle mechanics.

## Resources

### Primary Resource Chain

1. **Coffee Beans** (base resource)
   - Generated by manual clicks (grinding beans)
   - 1 click = 3 beans
   - Base idle rate: 0.5/sec
   - Visual: ◉ bean symbols

2. **Cups of Coffee** (basic product - Tier 1)
   - Cost: 10 Beans
   - Production: 0.1 Beans/sec (from tips)
   - Served to customers
   - Visual: ☕ cup symbols

3. **Customer Stories** (narrative resource - Tier 2)
   - Cost: 25 Coffees
   - Production: 1 Coffee/sec
   - Learn customer histories
   - Visual: " " quote marks

4. **Temporal Energy** (time essence - Tier 3)
   - Cost: 100 Stories
   - Production: 2 Stories/sec
   - Harvested from loop repetition
   - Visual: ⟳ loop symbols

5. **Deja Vu Moments** (temporal awareness - Tier 4)
   - Cost: 500 Temporal Energy
   - Production: 5 Energy/sec
   - Customers remember previous loops
   - Visual: ∞ recognition flashes

6. **Paradoxes** (timeline breaks - Tier 5)
   - Cost: 2,500 Deja Vu
   - Production: 10 Deja Vu/sec
   - Intentional contradictions
   - Visual: ⚠ warning symbols

7. **Timeline Branches** (alternate paths - Tier 6)
   - Cost: 12,500 Paradoxes
   - Production: 50 Paradoxes/sec
   - Multiple simultaneous realities
   - Visual: ⟨⟩ branch points

8. **Causality Chains** (linked events - Tier 7)
   - Cost: 62,500 Branches
   - Production: 100 Branches/sec
   - Cause-effect mastery
   - Visual: →→→ causal links

9. **Time Mastery** (loop control - Tier 8)
   - Cost: 312,500 Chains
   - Production: 500 Chains/sec
   - Manipulate the loop itself
   - Visual: ◉ with ⟳ combined

10. **Loop Transcendence** (freedom - Final)
    - Cost: 1.5M Mastery
    - Production: 1,000 Mastery/sec
    - Choice: break free or stay
    - Visual: ∞→ or ∞⟳

### Secondary Resources

**Regular Customers (Memory)**
- Persistent across loops
- Build relationships
- Max loyalty = permanent bonuses
- Visual: Named portraits

**Recipes Perfected**
- Each loop, improve coffee
- Better recipes = more tips
- 100% perfect = special events
- Visual: ★ rated recipes

**Temporal Fragments**
- Glitches in the loop
- Collect to unlock secrets
- Rare drops from perfect service
- Visual: ◇ shimmer effects

**Loop Reputation**
- Meta-score across all loops
- Unlocks new customers
- Opens secret storylines
- Visual: ⭐ star rating

## Core Mechanics

### The 10-Minute Loop
Core gameplay structure:

```
LOOP DAY TIMELINE:
00:00 - Cafe opens, morning prep
02:00 - First customers arrive (The Regular)
04:00 - Mid-morning rush (3-4 customers)
06:00 - Lunch crowd (5-6 customers)
08:00 - Afternoon lull (1-2 customers)
10:00 - DAY RESETS → Loop begins again
```

Real-time: Each loop = 10 real minutes

### Customer Arrival System
Same customers, same times, every loop:

**The Regular** - Always first (02:00)
- Older gentleman, mysterious past
- Drinks: Black coffee, no sugar
- Story unlocks across many loops

**The Student** - Mid-morning (04:15)
- Cramming for exams
- Drinks: Latte with extra shot
- Stress levels vary by loop

**The Couple** - Lunch time (06:00)
- Anniversary, every loop
- Drinks: Two cappuccinos
- Relationship state changes based on your service

**The Businesswoman** - Afternoon (07:30)
- Always late, always stressed
- Drinks: Espresso, triple shot
- Holds key to breaking the loop

**The Stranger** - Random (????)
- Appears only in specific conditions
- Drinks: "Surprise me"
- Knows about the loop

### Memory Across Loops
You remember everything. Customers usually don't... until:

```
LOOP #1:
The Regular: "Black coffee, please."
[Standard interaction]

LOOP #47:
The Regular: "Black coffee... have we met before?"
[Deja Vu triggered - bonus]

LOOP #100:
The Regular: "We've done this so many times. When does it end?"
[Full awareness - storyline unlock]
```

### Perfect Service
Execute flawless timing and orders:

```
[PERFECT SERVICE CHAIN]
Serve The Regular correctly (+10 Temporal Energy)
↓
Serve The Student without waiting (+20 TE)
↓
Serve The Couple simultaneously (+40 TE)
↓
[PERFECT DAY: x5 all production this loop]
```

### Recipe Evolution
Coffee quality improves with practice:

```
LATTE QUALITY:
Loop 1: 30% → "Mediocre latte" → 1 tip
Loop 10: 60% → "Good latte" → 3 tips
Loop 50: 85% → "Great latte" → 7 tips  
Loop 100: 100% → "Perfect latte" → 20 tips + special event
```

### Temporal Manipulation
Late-game: control the loop:

- **Rewind**: Go back 1 minute (cost: 100 Temporal Energy)
- **Fast Forward**: Skip slow periods (cost: 50 TE)
- **Pause**: Freeze time briefly (cost: 200 TE)
- **Branch**: Create alternate timeline (cost: 1,000 Paradoxes)
- **Merge**: Combine timeline resources (cost: 5,000 Branches)

### The Choice
At Loop Transcendence:

```
The Stranger: "You've mastered the loop. Now choose."

[BREAK THE LOOP]
- Escape to normal time
- Keep all prestige bonuses
- New game mode: Linear time cafe

[EMBRACE THE LOOP]  
- Stay in infinite recursion
- Become guardian of the loop
- New game mode: Perfect every timeline

[SHATTER TIME]
- Destroy causality (hard mode)
- Chaotic timeline branching
- New game mode: Temporal chaos
```

## Upgrades

### Cafe Basics (Early Loops)
- **Better Grinder**: +100% click beans (50 Beans)
- **Espresso Machine**: Coffees 2x faster (200 Beans)
- **Customer Notebook**: Remember preferences (1K Coffees)
- **Cozy Atmosphere**: Customers stay longer (+tips) (5K Stories)
- **Time Sense**: See loop timeline (25K Stories)

### Temporal Awareness (Mid Loops)
- **Deja Vu Trigger**: Customers remember sometimes (100K Energy)
- **Loop Journal**: Record all events (500K Energy)
- **Paradox Generator**: Intentionally break causality (2M Deja Vu)
- **Timeline Viewer**: See alternate branches (10M Deja Vu)
- **Causal Linking**: Chain events for bonuses (50M Paradoxes)

### Time Manipulation (Late Loops)
- **Temporal Rewind**: Go back 1 minute (100M Branches)
- **Branch Management**: Run 3 timelines simultaneously (500M Branches)
- **Perfect Day Protocol**: Auto-serve perfectly (2B Chains)
- **Time Dilation**: Extend loop to 15 minutes (10B Chains)
- **Loop Mastery**: Full control over time (50B Mastery)

### Meta Upgrades (Post-Transcendence)
- **Eternal Memory**: Never forget any loop
- **Customer Bonds**: Start with max loyalty
- **Recipe Mastery**: All perfect from start
- **Temporal Grace**: More time before reset

## Prestige System

### Timeline Reset (Prestige)
- Available after 100 loops
- "You've lived this day a hundred times. Time for a fresh start."
- Reset loop count, resources, customers
- Move to alternate reality cafe
- Gains "Temporal Wisdom"

### Prestige Currency: Temporal Wisdom (TW)
- Formula: (loop_count / 10) × perfect_days_count
- Each TW = +2% to all production
- Unlocks new customers in new reality
- Improves starting recipes
- Stacks additively

### Prestige Milestones
- **First Reset**: Keep basic upgrades
- **10 Resets**: Unlock The Stranger storyline
- **50 Resets**: Access Temporal Nexus
- **100 Resets**: Multiple cafes simultaneously
- **500 Resets**: Become Time Lord of Cafes

### Alternate Reality Cafes
Each prestige moves to different setting:

**Original**: Modern city cafe
**Reset 1**: 1920s speakeasy coffee house
**Reset 10**: Space station cafe (sci-fi)
**Reset 50**: Medieval coffee house (fantasy)
**Reset 100**: Abstract temporal cafe (surreal)

Same mechanics, different aesthetic/customers

### The Temporal Nexus
At 50 resets:
- Hub connecting all cafe timelines
- Manage multiple loops simultaneously
- Resources flow between cafes
- Ultimate optimization challenge

### Time Lord Ascension
At 500 resets:
- Transcend individual loops
- Oversee all temporal cafes
- Become the loop itself
- Victory condition

## UI/Graphics

### Visual Style
**Cozy Retro Terminal**: Warm colors, comfortable ASCII art, nostalgic cafe vibe

### Main Screen Layout
```
╔══════════════════════════════════════════════════════════════╗
║  ☕ TIME LOOP CAFE ☕ - Loop #847 - Day Time: 05:47/10:00   ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  [GRIND BEANS]             Coffee Beans: 3.47e12            ║
║                                                              ║
║      ╔═══════════════╗      Rate: +8.91e6/sec               ║
║      ║               ║                                       ║
║      ║  ☕  ╔═╗  ☕  ║      Temporal Energy: 2.34e9  ⟳       ║
║      ║     ║X║      ║                                       ║
║      ║  ◉  ╚═╝  ◉  ║      Temporal Wisdom: 234            ║
║      ║               ║      Multiplier: x23.4               ║
║      ╚═══════════════╝                                       ║
║       CAFE INTERIOR        Loop Reputation: ⭐⭐⭐⭐⭐ (5/5)  ║
║                                                              ║
╠══════════════════════════════════════════════════════════════╣
║  CURRENT CUSTOMERS                                           ║
╟──────────────────────────────────────────────────────────────╢
║  [👴] The Regular         Black Coffee    ❤️❤️❤️❤️❤️ (Max)  ║
║       "Same as always."   [SERVE]         [CHAT]            ║
║                                                              ║
║  [📚] The Student         Latte + Shot    ❤️❤️❤️░░ (3/5)    ║
║       "So much to study..." [SERVE]       [CHAT]            ║
║                                                              ║
║  [👫] The Couple          2x Cappuccino   ❤️❤️❤️❤️░ (4/5)   ║
║       "Happy anniversary!" [SERVE]        [CHAT]            ║
╠══════════════════════════════════════════════════════════════╣
║  RESOURCES                         COUNT    PRODUCTION       ║
╟──────────────────────────────────────────────────────────────╢
║  [☕] Cups of Coffee               892K     +8.92e5/sec     ║
║  [" "] Customer Stories            234K     +2.34e5/sec     ║
║  [⟳] Temporal Energy              89.4K    +8.94e4/sec     ║
║  [∞] Deja Vu Moments              12.3K    +1.23e4/sec     ║
║  [⟨⟩] Timeline Branches            892      +892/sec        ║
╠══════════════════════════════════════════════════════════════╣
║  ⚠ LOOP ENDING IN: 04:13  [R]ewind  [F]ast-forward  [P]ause║
╟──────────────────────────────────────────────────────────────╢
║  [U]pgrades  [C]ustomers  [L]og  [T]ranscend  [?]Help      ║
╚══════════════════════════════════════════════════════════════╝
```

### Loop Timeline View
```
╔══════════════════════════════════════════════════════════════╗
║                  LOOP TIMELINE - Current Loop #847           ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  00:00 ├──────────────────────────────────────────┤ 10:00   ║
║         │   ┊     ┊       ┊       ┊     ┊        │          ║
║  OPEN   │   │     │       │       │     │        │  RESET   ║
║         │   │     │       │       │     │        │          ║
║         │   👴    📚      👫      💼    ❓       │          ║
║         │  02:00 04:15   06:00   07:30  ???      │          ║
║         │Regular Student Couple  Biz  Stranger   │          ║
║         │                                         │          ║
║         │         ▲ YOU ARE HERE (05:47)          │          ║
║         │         │                               │          ║
║         └─────────┼───────────────────────────────┘          ║
║                   │                                          ║
║  NEXT EVENTS:                                                ║
║  06:00 - The Couple arrives (13 minutes)                     ║
║  07:30 - The Businesswoman arrives (1h 43min)                ║
║                                                              ║
║  PERFECT DAY PROGRESS: ▓▓▓░░ 3/5 served perfectly           ║
╚══════════════════════════════════════════════════════════════╝
```

### Customer Memory Log
```
╔══════════════════════════════════════════════════════════════╗
║            THE REGULAR - Loyalty: ❤️❤️❤️❤️❤️ (Max)          ║
╠══════════════════════════════════════════════════════════════╣
║  Name: Unknown (He never says)                               ║
║  Drinks: Black coffee, no sugar, no milk                     ║
║  Arrives: 02:00 every loop (always punctual)                 ║
║  Tips: 5 beans (generous)                                    ║
║                                                              ║
║  STORY UNLOCKS:                                              ║
║  [✓] Loop 1: "Black coffee, please."                         ║
║  [✓] Loop 25: "You make it well."                            ║
║  [✓] Loop 47: "Have we met before?"                          ║
║  [✓] Loop 100: "The loop. You feel it too?"                  ║
║  [✓] Loop 250: "I've been here longer than you know."        ║
║  [✓] Loop 500: "I'm the reason the loop exists."             ║
║  [ ] Loop 1000: ??? (Not yet unlocked)                       ║
║                                                              ║
║  BONUS: Max loyalty gives +50% temporal energy this customer ║
╚══════════════════════════════════════════════════════════════╝
```

### Animation Patterns
- **Bean Grinding**: ◉ spinning and breaking
- **Coffee Pouring**: ☕ filling up slowly
- **Customer Entry**: Figure sliding in from edge
- **Conversation**: " " quotes appearing
- **Loop Reset**: Screen flashes, rewinds like VHS
- **Deja Vu**: Doubled vision effect
- **Time Pause**: Everything freezes with ripple
- **Branch Split**: Screen divides into multiple views

### Color Scheme (Warm Cafe Aesthetic)
- **Background**: Warm brown (#3e2723)
- **Coffee/Beans**: Rich brown (#4e342e)
- **Customers**: Varied skin tones
- **Steam/Atmosphere**: Light gray (#b0b0b0)
- **UI Elements**: Cream (#f5f5dc)
- **Temporal Energy**: Cyan (#00bcd4)
- **Love/Loyalty**: Red hearts (#e91e63)
- **Deja Vu**: Purple shimmer (#9c27b0)
- **Paradoxes**: Orange warning (#ff9800)
- **Timelines**: Green branches (#4caf50)
- **Loop Reset**: Blue flash (#2196f3)

### Symbol Library
```
Coffee: ☕ ♨
Beans: ◉ ⚫ ●
Time: ⟳ ↻ ⟲ ⌚
Infinity: ∞ ⧞ ⧜
Customers: 👴 📚 👫 💼 ❓
Hearts: ❤️ 💕 💖 💗 💓
Stars: ⭐ ✨ ⭐ 
Quotes: " " ' '
Timeline: ├ ┼ ┤ │
Branches: ⟨ ⟩ ╱ ╲
Pause: ⏸ ‖
Rewind: ⏪ ↶
Fast-forward: ⏩ ↷
Money: 💰 $
Warning: ⚠ ⚡
```

## Progression Pacing

### Phase 1: Groundhog Day (Loops 1-10, ~2 hours)
- Learn the loop structure
- Meet all main customers
- First perfect service chain
- Unlock basic story snippets
- Goal: Recognize the pattern

### Phase 2: Mastering the Routine (Loops 10-50, ~8 hours)
- Perfect all recipes
- Max all customer loyalties
- First deja vu moments
- Understand each customer story
- Goal: Perfect day achievement

### Phase 3: Temporal Awareness (Loops 50-100, ~20 hours)
- Customers start remembering
- Unlock paradoxes
- First timeline branches
- The Stranger appears
- Goal: First transcendence option unlocked

### Phase 4: Breaking Free (Loops 100-500)
- Multiple timeline management
- Temporal manipulation mastery
- All story endings available
- Choice: break loop or stay
- Goal: First prestige (timeline reset)

### Phase 5: Multiverse Cafe (Post-prestige)
- Manage alternate reality cafes
- Temporal Nexus unlocked
- Cross-timeline optimization
- Meta-narrative unfolds
- Goal: All cafe timelines perfect

### Phase 6: Time Lord (500+ resets)
- Become the loop
- Transcend individual cafes
- Ultimate mastery
- Victory condition
- Goal: Complete all storylines

## Unique Mechanics

### Customer Conversation Trees
Build relationships through dialogue:

```
The Student: "I'm so stressed about this exam..."

Response options:
A) "You'll do fine!" (Generic, +1 loyalty)
B) "What subject?" (Interested, +2 loyalty, unlock story)
C) "More espresso?" (Practical, +coffee sales)
D) [Memory: She mentioned biology last loop] "How's the biology coming?" 
   (Perfect recall, +5 loyalty, special event)
```

### The Regular's Mystery
Unfolding story across hundreds of loops:

- Loop 1: Just a customer
- Loop 100: He feels the loop too
- Loop 500: He created the loop
- Loop 1000: He's keeping you trapped
- Loop 5000: He's protecting you from something worse
- Loop 10000: True ending revealed

### The Couple's Relationship
Their anniversary goes differently based on service:

```
PERFECT SERVICE:
"That was the best coffee we've ever had!"
→ They propose to each other
→ +100% production this loop
→ Unlock "True Love" achievement

SLOW SERVICE:
"This place has gone downhill..."
→ They argue
→ Break up
→ -50% production this loop
→ Paradox opportunity unlocks
```

### The Stranger's Riddles
Appears only under specific conditions:

- Serve all customers perfectly
- Be at 666 loops or 1337 loops (easter eggs)
- On the 13th perfect day in a row
- During timeline paradoxes

Gives cryptic hints about breaking the loop

### Temporal Paradoxes
Intentionally create contradictions:

```
PARADOX: Serve The Couple before The Regular arrives

Result:
- Timeline fractures
- Two timelines run simultaneously
- Resources from both
- Risk: Paradox collapse (lose loop progress)
- Reward: 2x production if maintained
```

### Loop Speed Manipulation
Late-game time control:

```
NORMAL LOOP: 10 minutes
DILATED: 15 minutes (more time, slower production)
COMPRESSED: 5 minutes (less time, faster production)
PAUSED: Frozen (perfect timing opportunities)
REVERSED: Time flows backward (experimental)
```

### Memory Fragments
Collectible story pieces:

```
[FRAGMENT FOUND: The Regular's Past]

"In another life, this cafe was his daughter's dream.
 She never got to open it.
 He created the loop to preserve her memory.
 You are living her dream, forever."

Fragments collected: 47/100
```

## Achievements

### Loop Achievements
- **First Loop**: Complete first reset
- **Experienced**: 100 loops
- **Veteran**: 1,000 loops
- **Time Lord**: 10,000 loops
- **Eternal**: 100,000 loops

### Service Achievements
- **Perfect Service**: Serve all customers flawlessly
- **Perfect Day**: 5 perfect services in one loop
- **Perfect Week**: 7 consecutive perfect days
- **Speed Serve**: Serve everyone in under 5 minutes
- **Loyal Customers**: Max all customer loyalty

### Story Achievements
- **The Regular's Secret**: Unlock his full story
- **The Student's Success**: Help her pass the exam
- **The Couple's Happiness**: Perfect their anniversary
- **The Businesswoman's Relief**: Ease her stress
- **The Stranger's Truth**: Learn who he really is

### Temporal Achievements
- **Deja Vu**: First customer remembers
- **Paradox Creator**: First timeline branch
- **Timeline Juggler**: Manage 5 timelines simultaneously
- **Time Manipulator**: Use all temporal powers
- **Loop Breaker**: Achieve transcendence

### Meta Achievements
- **Groundhog**: Reference to the film
- **Infinite**: Serve 1M cups of coffee
- **Barista God**: Perfect every recipe
- **Temporal Nexus**: Access all cafe timelines
- **The Choice**: Make your final decision

## Thematic Immersion

### Flavor Text Examples
- **Loop 1**: "Good morning! Welcome to the Loop Cafe!"
- **Loop 10**: "Same customers. Same orders. Always."
- **Loop 100**: "How many times have I ground these beans?"
- **Loop 500**: "They're starting to remember. So am I."
- **Loop 1000**: "Time is a flat circle of coffee."
- **Transcendence**: "I could leave. But would I want to?"

### Customer Evolution Examples

**The Regular - Across Loops:**

Loop 1: "Black coffee."
Loop 50: "You make a good cup."
Loop 100: "This place feels... familiar."
Loop 500: "I remember you. All of you. Every loop."
Loop 1000: "I'm sorry. I didn't mean to trap you here."

**The Student - Exam Day:**

Early loops: "I'm going to fail!"
Middle loops: "Maybe I'll be okay..."
Late loops (good service): "I passed! Thanks for the coffee!"
Late loops (bad service): "I failed. Again."

### Sound Design Ideas
- Ambient cafe noise (chatter, dishes)
- Coffee machine hissing
- Bean grinder mechanical sounds
- Door chime when customers enter
- Clock ticking (louder as reset approaches)
- Temporal energy humming
- VHS rewind sound on reset
- Music that loops perfectly

## Design Philosophy

**Routine as Meditation**: Repetition isn't boring - it's meditative. Find zen in perfect execution.

**Stories Through Time**: Relationships deepen over loops. Reward paying attention and remembering.

**Cozy Existentialism**: It's about being trapped in time, but make it warm and comfortable.

**The Power of Choice**: Eventually, give players genuine agency - stay or leave?

**Narrative Idle Game**: Story progression unlocks through play time and perfect execution.

**Respect Player Time**: 10-minute loops mean players can engage in short sessions. Progress persists.

## Future Expansion Ideas

- **Multiple Baristas**: Hire AI helpers with personalities
- **Recipe Creation**: Players design custom drinks
- **Cafe Customization**: Decorate and upgrade interior
- **Special Events**: Holiday loops, seasonal changes
- **Customer Creator**: Design and add custom customers
- **Expanded Map**: Nearby shops also in loop
- **Co-op Mode**: Two baristas in same loop
- **Competitive Mode**: Best loop leaderboards
- **The Loop Expanded**: 24-hour loops, week loops
- **Breaking Bad Ending**: Shatter time completely
